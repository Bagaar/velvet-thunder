{"version":3,"file":"velvet-disclosure.js","sources":["../../src/components/velvet-disclosure.gts"],"sourcesContent":["import { template as template_84a9053037d34fc1b0070928085f2958 } from \"@ember/template-compiler\";\nimport { hash } from '@ember/helper';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport type { WithBoundArgs } from '@glint/template';\nimport velvetAutoAnimate from '../modifiers/velvet-auto-animate.ts';\nimport VelvetButton from './velvet-button.gts';\nimport VelvetIconButton from './velvet-icon-button.gts';\nexport interface VelvetDisclosureSignature {\n    Args: {\n        /// Indicate if the disclosed content should animate.\n        /// @default [true]\n        shouldAnimate?: boolean;\n    };\n    Blocks: {\n        /// The content of the disclosure.\n        content: [publicAPI: PublicAPI];\n        /// The trigger of the disclosure.\n        trigger: [publicAPI: PublicAPI & {\n                Button: WithBoundArgs<typeof VelvetButton, 'isDisclosure' | 'isExpanded' | 'onClick'>;\n                IconButton: WithBoundArgs<typeof VelvetIconButton, 'onClick'>;\n            }];\n    };\n    Element: HTMLDivElement;\n}\ninterface PublicAPI {\n    hide: () => void;\n    isShown: boolean;\n    show: () => void;\n    toggle: () => void;\n}\nexport default class VelvetDisclosure extends Component<VelvetDisclosureSignature> {\n    @tracked\n    isShown = false;\n    get shouldAnimate() {\n        return typeof this.args.shouldAnimate === 'boolean' ? this.args.shouldAnimate : true;\n    }\n    hide = ()=>{\n        this.isShown = false;\n    };\n    show = ()=>{\n        this.isShown = true;\n    };\n    toggle = ()=>{\n        if (this.isShown) {\n            this.hide();\n        } else {\n            this.show();\n        }\n    };\n    static{\n        template_84a9053037d34fc1b0070928085f2958(`\n    <div\n      class=\"velvet-disclosure\"\n      {{(if this.shouldAnimate velvetAutoAnimate)}}\n      ...attributes\n    >\n      {{yield\n        (hash\n          Button=(component\n            VelvetButton\n            isDisclosure=true\n            isExpanded=this.isShown\n            onClick=this.toggle\n          )\n          IconButton=(component\n            VelvetIconButton\n            isDisclosure=true\n            isExpanded=this.isShown\n            onClick=this.toggle\n          )\n          isShown=this.isShown\n          hide=this.hide\n          show=this.show\n          toggle=this.toggle\n        )\n        to=\"trigger\"\n      }}\n\n      {{#if this.isShown}}\n        {{yield\n          (hash\n            isShown=this.isShown hide=this.hide show=this.show toggle=this.toggle\n          )\n          to=\"content\"\n        }}\n      {{/if}}\n    </div>\n  `, {\n            component: this,\n            eval () {\n                return eval(arguments[0]);\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3ZlbHZldC10aHVuZGVyL3ZlbHZldC10aHVuZGVyL3ZlbHZldC10aHVuZGVyL3NyYy9jb21wb25lbnRzL3ZlbHZldC1kaXNjbG9zdXJlLmd0cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXNoIH0gZnJvbSAnQGVtYmVyL2hlbHBlcic7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJ0BnbGltbWVyL2NvbXBvbmVudCc7XG5pbXBvcnQgeyB0cmFja2VkIH0gZnJvbSAnQGdsaW1tZXIvdHJhY2tpbmcnO1xuaW1wb3J0IHR5cGUgeyBXaXRoQm91bmRBcmdzIH0gZnJvbSAnQGdsaW50L3RlbXBsYXRlJztcbmltcG9ydCB2ZWx2ZXRBdXRvQW5pbWF0ZSBmcm9tICcuLi9tb2RpZmllcnMvdmVsdmV0LWF1dG8tYW5pbWF0ZS50cyc7XG5pbXBvcnQgVmVsdmV0QnV0dG9uIGZyb20gJy4vdmVsdmV0LWJ1dHRvbi5ndHMnO1xuaW1wb3J0IFZlbHZldEljb25CdXR0b24gZnJvbSAnLi92ZWx2ZXQtaWNvbi1idXR0b24uZ3RzJztcblxuZXhwb3J0IGludGVyZmFjZSBWZWx2ZXREaXNjbG9zdXJlU2lnbmF0dXJlIHtcbiAgQXJnczoge1xuICAgIC8vLyBJbmRpY2F0ZSBpZiB0aGUgZGlzY2xvc2VkIGNvbnRlbnQgc2hvdWxkIGFuaW1hdGUuXG4gICAgLy8vIEBkZWZhdWx0IFt0cnVlXVxuICAgIHNob3VsZEFuaW1hdGU_OiBib29sZWFuO1xuICB9O1xuICBCbG9ja3M6IHtcbiAgICAvLy8gVGhlIGNvbnRlbnQgb2YgdGhlIGRpc2Nsb3N1cmUuXG4gICAgY29udGVudDogW3B1YmxpY0FQSTogUHVibGljQVBJXTtcblxuICAgIC8vLyBUaGUgdHJpZ2dlciBvZiB0aGUgZGlzY2xvc3VyZS5cbiAgICB0cmlnZ2VyOiBbXG4gICAgICBwdWJsaWNBUEk6IFB1YmxpY0FQSSAmIHtcbiAgICAgICAgQnV0dG9uOiBXaXRoQm91bmRBcmdzPFxuICAgICAgICAgIHR5cGVvZiBWZWx2ZXRCdXR0b24sXG4gICAgICAgICAgJ2lzRGlzY2xvc3VyZScgfCAnaXNFeHBhbmRlZCcgfCAnb25DbGljaydcbiAgICAgICAgPjtcbiAgICAgICAgSWNvbkJ1dHRvbjogV2l0aEJvdW5kQXJnczx0eXBlb2YgVmVsdmV0SWNvbkJ1dHRvbiwgJ29uQ2xpY2snPjtcbiAgICAgIH0sXG4gICAgXTtcbiAgfTtcbiAgRWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG59XG5cbmludGVyZmFjZSBQdWJsaWNBUEkge1xuICBoaWRlOiAoKSA9PiB2b2lkO1xuICBpc1Nob3duOiBib29sZWFuO1xuICBzaG93OiAoKSA9PiB2b2lkO1xuICB0b2dnbGU6ICgpID0-IHZvaWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFZlbHZldERpc2Nsb3N1cmUgZXh0ZW5kcyBDb21wb25lbnQ8VmVsdmV0RGlzY2xvc3VyZVNpZ25hdHVyZT4ge1xuICBAdHJhY2tlZCBpc1Nob3duID0gZmFsc2U7XG5cbiAgZ2V0IHNob3VsZEFuaW1hdGUoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0aGlzLmFyZ3Muc2hvdWxkQW5pbWF0ZSA9PT0gJ2Jvb2xlYW4nXG4gICAgICA_IHRoaXMuYXJncy5zaG91bGRBbmltYXRlXG4gICAgICA6IHRydWU7XG4gIH1cblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlO1xuICB9O1xuXG4gIHNob3cgPSAoKSA9PiB7XG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZTtcbiAgfTtcblxuICB0b2dnbGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNTaG93bikge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgfTtcblxuICA8dGVtcGxhdGU-XG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJ2ZWx2ZXQtZGlzY2xvc3VyZVwiXG4gICAgICB7eyhpZiB0aGlzLnNob3VsZEFuaW1hdGUgdmVsdmV0QXV0b0FuaW1hdGUpfX1cbiAgICAgIC4uLmF0dHJpYnV0ZXNcbiAgICA-XG4gICAgICB7e3lpZWxkXG4gICAgICAgIChoYXNoXG4gICAgICAgICAgQnV0dG9uPShjb21wb25lbnRcbiAgICAgICAgICAgIFZlbHZldEJ1dHRvblxuICAgICAgICAgICAgaXNEaXNjbG9zdXJlPXRydWVcbiAgICAgICAgICAgIGlzRXhwYW5kZWQ9dGhpcy5pc1Nob3duXG4gICAgICAgICAgICBvbkNsaWNrPXRoaXMudG9nZ2xlXG4gICAgICAgICAgKVxuICAgICAgICAgIEljb25CdXR0b249KGNvbXBvbmVudFxuICAgICAgICAgICAgVmVsdmV0SWNvbkJ1dHRvblxuICAgICAgICAgICAgaXNEaXNjbG9zdXJlPXRydWVcbiAgICAgICAgICAgIGlzRXhwYW5kZWQ9dGhpcy5pc1Nob3duXG4gICAgICAgICAgICBvbkNsaWNrPXRoaXMudG9nZ2xlXG4gICAgICAgICAgKVxuICAgICAgICAgIGlzU2hvd249dGhpcy5pc1Nob3duXG4gICAgICAgICAgaGlkZT10aGlzLmhpZGVcbiAgICAgICAgICBzaG93PXRoaXMuc2hvd1xuICAgICAgICAgIHRvZ2dsZT10aGlzLnRvZ2dsZVxuICAgICAgICApXG4gICAgICAgIHRvPVwidHJpZ2dlclwiXG4gICAgICB9fVxuXG4gICAgICB7eyNpZiB0aGlzLmlzU2hvd259fVxuICAgICAgICB7e3lpZWxkXG4gICAgICAgICAgKGhhc2hcbiAgICAgICAgICAgIGlzU2hvd249dGhpcy5pc1Nob3duIGhpZGU9dGhpcy5oaWRlIHNob3c9dGhpcy5zaG93IHRvZ2dsZT10aGlzLnRvZ2dsZVxuICAgICAgICAgIClcbiAgICAgICAgICB0bz1cImNvbnRlbnRcIlxuICAgICAgICB9fVxuICAgICAge3svaWZ9fVxuICAgIDwvZGl2PlxuICA8L3RlbXBsYXRlPlxufVxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFBQSxTQUFTLElBQUksUUFBUSxnQkFBZ0I7QUFDckMsT0FBTyxlQUFlLHFCQUFxQjtBQUMzQyxTQUFTLE9BQU8sUUFBUSxvQkFBb0I7QUFDNUMsY0FBYyxhQUFhLFFBQVEsa0JBQWtCO0FBQ3JELE9BQU8sdUJBQXVCLHNDQUFzQztBQUNwRSxPQUFPLGtCQUFrQixzQkFBc0I7QUFDL0MsT0FBTyxzQkFBc0IsMkJBQTJCO0FBRXhELGlCQUFpQjtJQUNmO1FBQ0UscURBQXFEO1FBQ3JELG1CQUFtQjtRQUNuQixnQkFBZ0IsT0FBTzs7SUFFekI7UUFDRSxrQ0FBa0M7UUFDbEMsVUFBVSxXQUFXO1FBRXJCLGtDQUFrQztRQUNsQyxVQUNFLFdBQVc7Z0JBQ1QsUUFBUSxxQkFDQyxjQUNQLGlCQUFpQixlQUFlO2dCQUVsQyxZQUFZLHFCQUFxQixrQkFBa0I7OztJQUl6RCxTQUFTOztVQUdEO0lBQ1IsWUFBWSxJQUFJO0lBQ2hCLFNBQVMsT0FBTztJQUNoQixZQUFZLElBQUk7SUFDaEIsY0FBYyxJQUFJOztBQUdwQixlQUFlLE1BQU0seUJBQXlCLFVBQVU7SUFDdEQsQ0FBQztJQUFRLFVBQVUsTUFBTTtJQUV6QixJQUFJLGdCQUFnQjtRQUNsQixPQUFPLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEtBQUssWUFDdEMsSUFBSSxDQUFDLElBQUksQ0FBQyxhQUFhLEdBQ3ZCO0lBQ047SUFFQSxPQUFPO1FBQ0wsSUFBSSxDQUFDLE9BQU8sR0FBRztJQUNqQixFQUFFO0lBRUYsT0FBTztRQUNMLElBQUksQ0FBQyxPQUFPLEdBQUc7SUFDakIsRUFBRTtJQUVGLFNBQVM7UUFDUCxJQUFJLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDaEIsSUFBSSxDQUFDLElBQUk7UUFDWCxPQUFPO1lBQ0wsSUFBSSxDQUFDLElBQUk7UUFDWDtJQUNGLEVBQUU7SUFFRixNQUFBO1FBQUEsMENBQVUsQ0FBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztFQXFDVixDQUFBLEVBQUE7WUFBQSxXQUFBLElBQVc7WUFBWDtnQkFBQSxPQUFBLEtBQUEsU0FBQSxDQUFBLEVBQVc7WUFBRDtRQUFBO0lBQUEsQ0FyQ0E7QUFzQ1oifQ"],"names":["VelvetDisclosure","Component","g","this","prototype","tracked","i","void 0","shouldAnimate","args","hide","isShown","show","toggle","setComponentTemplate","precompileTemplate","strictMode","scope","velvetAutoAnimate","hash","VelvetButton","VelvetIconButton"],"mappings":";;;;;;;;;;AAuCe,MAAMA,gBAAA,SAAyBC,SAAA,CAAU;AAAA,EAAA;AAAAC,IAAAA,CAAA,CAAAC,IAAA,CAAAC,SAAA,cACrDC,OAAA,CAAA,EAAA,YAAA;MAAA,OAAkB,KAAA;AAAA,KAAA,CAAA;AAAA;AAAA,EAAA,QAAA,IAAAC,CAAA,CAAAH,IAAA,cAAAI,MAAA;AAEnB,EAAA,IAAIC,gBAAgB;AAClB,IAAA,OAAO,OAAO,IAAI,CAACC,IAAI,CAACD,aAAa,KAAK,SAAA,GACtC,IAAI,CAACC,IAAI,CAACD,aAAa,GACvB,IAAA;AACN;AAEAE,EAAAA,IAAA,GAAOA,MAAA;IACL,IAAI,CAACC,OAAO,GAAG,KAAA;AACjB,GAAA;AAEAC,EAAAA,IAAA,GAAOA,MAAA;IACL,IAAI,CAACD,OAAO,GAAG,IAAA;AACjB,GAAA;AAEAE,EAAAA,MAAA,GAASA,MAAA;IACP,IAAI,IAAI,CAACF,OAAO,EAAE;AAChB,MAAA,IAAI,CAACD,IAAI,EAAA;KACJ,MAAA;AACL,MAAA,IAAI,CAACE,IAAI,EAAA;AACX;AACF,GAAA;AAEA,EAAA;IAAAE,oBAAA,CAAAC,kBAAA,CAqCA,kkBAAA,EAAA;MAAAC,UAAA,EAAA,IAAA;AAAAC,MAAAA,KAAA,EAAAA,OAAA;QAAAC,iBAAA;QAAAC,IAAA;QAAAC,YAAA;AAAAC,QAAAA;AAAA,OAAA;AAAU,KAAA,CAAA,EAAV,IAAW,CAAA;AAAD;AACZ;;;;"}