{"version":3,"file":"velvet-dropdown.js","sources":["../../src/components/velvet-dropdown.gts"],"sourcesContent":["import { template as template_ad52c60e473d4e65821acbe22aebdac6 } from \"@ember/template-compiler\";\nimport { assert } from '@ember/debug';\nimport { hash } from '@ember/helper';\nimport { autoUpdate, computePosition, flip, offset, type Placement, type Strategy } from '@floating-ui/dom';\nimport Component from '@glimmer/component';\nimport { tracked } from '@glimmer/tracking';\nimport type { ModifierLike, WithBoundArgs } from '@glint/template';\nimport { modifier } from 'ember-modifier';\nimport VelvetButton from './velvet-button.gts';\nimport VelvetDropdownContent from './velvet-dropdown/content.gts';\nimport VelvetIconButton from './velvet-icon-button.gts';\nexport interface VelvetDropdownSignature {\n    Args: {\n        /// Offset of the content in pixels relative to the trigger.\n        /// @default [4]\n        offset?: number;\n        /// Placement of the content relative to the trigger.\n        /// @default [\"bottom-start\"]\n        placement?: Placement;\n        /// CSS position of the content.\n        /// @default [\"absolute\"]\n        strategy?: Strategy;\n    };\n    Blocks: {\n        /// The trigger and the content of the dropdown.\n        default: [{\n                Button: WithBoundArgs<typeof VelvetButton, 'privateDropdownTrigger' | 'isDisclosure' | 'variant'>;\n                Content: WithBoundArgs<typeof VelvetDropdownContent, 'isShown' | 'modifier'>;\n                IconButton: WithBoundArgs<typeof VelvetIconButton, 'privateDropdownTrigger' | 'variant'>;\n                isShown: boolean;\n                hide: () => void;\n                show: () => void;\n                toggle: () => void;\n                content: ModifierLike<ContentSignature>;\n                trigger: ModifierLike<TriggerSignature>;\n            }];\n    };\n    Element: HTMLDivElement;\n}\nexport interface ContentSignature {\n    Element: HTMLElement;\n}\nexport interface TriggerSignature {\n    Element: HTMLElement;\n}\nexport default class VelvetDropdown extends Component<VelvetDropdownSignature> {\n    @tracked\n    isShown = false;\n    triggerElement: HTMLElement | null = null;\n    get offset(): number {\n        const { offset } = this.args;\n        return typeof offset === 'number' ? offset : 4;\n    }\n    get placement(): Placement {\n        return this.args.placement || 'bottom-start';\n    }\n    get strategy(): Strategy {\n        return this.args.strategy || 'absolute';\n    }\n    content = modifier<ContentSignature>((contentElement)=>{\n        const { placement, strategy, triggerElement } = this;\n        assert('[VelvetDropdown] Trigger element must be present.', triggerElement);\n        // https://floating-ui.com/docs/computeposition#initial-layout:\n        Object.assign(contentElement.style, {\n            left: 0,\n            position: strategy,\n            top: 0\n        });\n        const updateFloating = async ()=>{\n            const { x, y } = await computePosition(triggerElement, contentElement, {\n                middleware: [\n                    flip(),\n                    offset(this.offset)\n                ],\n                placement,\n                strategy\n            });\n            Object.assign(contentElement.style, {\n                left: `${x}px`,\n                top: `${y}px`\n            });\n        };\n        const cleanupFloating = autoUpdate(triggerElement, contentElement, updateFloating);\n        const clickOutsideHandler = ({ target }: MouseEvent)=>{\n            if (target !== contentElement && target !== triggerElement && contentElement.contains(target as Node) === false && triggerElement.contains(target as Node) === false) {\n                this.hide();\n            }\n        };\n        const pressEscapeHandler = ({ key }: KeyboardEvent)=>{\n            if (key === 'Escape') {\n                this.hide();\n            }\n        };\n        // this is a mouseup instead of a click event, because if not, this immediately gets fired in the same cycle as the click to toggle the content open.\n        // this then means the clickOutsideHandler get called and fires the hide() method because after a rerender there is now a different icon shown, and that is no longer a child of the triggerElement\n        // changing this event to mouseup prevents this double toggle from happening and still works to hide the content when doing a subsequent click\n        document.addEventListener('mouseup', clickOutsideHandler);\n        document.addEventListener('keydown', pressEscapeHandler);\n        return ()=>{\n            cleanupFloating();\n            document.removeEventListener('mouseup', clickOutsideHandler);\n            document.removeEventListener('keydown', pressEscapeHandler);\n        };\n    });\n    trigger = modifier<TriggerSignature>((triggerElement)=>{\n        this.triggerElement = triggerElement;\n        triggerElement.addEventListener('click', this.toggle);\n        return ()=>triggerElement.removeEventListener('click', this.toggle);\n    });\n    hide = ()=>{\n        this.isShown = false;\n    };\n    show = ()=>{\n        this.isShown = true;\n    };\n    toggle = ()=>{\n        if (this.isShown) {\n            this.hide();\n        } else {\n            this.show();\n        }\n    };\n    static{\n        template_ad52c60e473d4e65821acbe22aebdac6(`\n    <div class='velvet-dropdown' ...attributes>\n      {{yield\n        (hash\n          Button=(component\n            VelvetButton\n            isDisclosure=true\n            isExpanded=this.isShown\n            privateDropdownTrigger=this.trigger\n          )\n          Content=(component\n            VelvetDropdownContent isShown=this.isShown modifier=this.content\n          )\n          IconButton=(component\n            VelvetIconButton\n            privateDropdownTrigger=this.trigger\n            isDisclosure=true\n            isExpanded=this.isShown\n          )\n          isShown=this.isShown\n          hide=this.hide\n          show=this.show\n          toggle=this.toggle\n          content=this.content\n          trigger=this.trigger\n        )\n      }}\n    </div>\n  `, {\n            component: this,\n            eval () {\n                return eval(arguments[0]);\n            }\n        });\n    }\n}\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3ZlbHZldC10aHVuZGVyL3ZlbHZldC10aHVuZGVyL3ZlbHZldC10aHVuZGVyL3NyYy9jb21wb25lbnRzL3ZlbHZldC1kcm9wZG93bi5ndHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYXNzZXJ0IH0gZnJvbSAnQGVtYmVyL2RlYnVnJztcbmltcG9ydCB7IGhhc2ggfSBmcm9tICdAZW1iZXIvaGVscGVyJztcbmltcG9ydCB7XG4gIGF1dG9VcGRhdGUsXG4gIGNvbXB1dGVQb3NpdGlvbixcbiAgZmxpcCxcbiAgb2Zmc2V0LFxuICB0eXBlIFBsYWNlbWVudCxcbiAgdHlwZSBTdHJhdGVneSxcbn0gZnJvbSAnQGZsb2F0aW5nLXVpL2RvbSc7XG5pbXBvcnQgQ29tcG9uZW50IGZyb20gJ0BnbGltbWVyL2NvbXBvbmVudCc7XG5pbXBvcnQgeyB0cmFja2VkIH0gZnJvbSAnQGdsaW1tZXIvdHJhY2tpbmcnO1xuaW1wb3J0IHR5cGUgeyBNb2RpZmllckxpa2UsIFdpdGhCb3VuZEFyZ3MgfSBmcm9tICdAZ2xpbnQvdGVtcGxhdGUnO1xuaW1wb3J0IHsgbW9kaWZpZXIgfSBmcm9tICdlbWJlci1tb2RpZmllcic7XG5pbXBvcnQgVmVsdmV0QnV0dG9uIGZyb20gJy4vdmVsdmV0LWJ1dHRvbi5ndHMnO1xuaW1wb3J0IFZlbHZldERyb3Bkb3duQ29udGVudCBmcm9tICcuL3ZlbHZldC1kcm9wZG93bi9jb250ZW50Lmd0cyc7XG5pbXBvcnQgVmVsdmV0SWNvbkJ1dHRvbiBmcm9tICcuL3ZlbHZldC1pY29uLWJ1dHRvbi5ndHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFZlbHZldERyb3Bkb3duU2lnbmF0dXJlIHtcbiAgQXJnczoge1xuICAgIC8vLyBPZmZzZXQgb2YgdGhlIGNvbnRlbnQgaW4gcGl4ZWxzIHJlbGF0aXZlIHRvIHRoZSB0cmlnZ2VyLlxuICAgIC8vLyBAZGVmYXVsdCBbNF1cbiAgICBvZmZzZXQ_OiBudW1iZXI7XG5cbiAgICAvLy8gUGxhY2VtZW50IG9mIHRoZSBjb250ZW50IHJlbGF0aXZlIHRvIHRoZSB0cmlnZ2VyLlxuICAgIC8vLyBAZGVmYXVsdCBbXCJib3R0b20tc3RhcnRcIl1cbiAgICBwbGFjZW1lbnQ_OiBQbGFjZW1lbnQ7XG5cbiAgICAvLy8gQ1NTIHBvc2l0aW9uIG9mIHRoZSBjb250ZW50LlxuICAgIC8vLyBAZGVmYXVsdCBbXCJhYnNvbHV0ZVwiXVxuICAgIHN0cmF0ZWd5PzogU3RyYXRlZ3k7XG4gIH07XG4gIEJsb2Nrczoge1xuICAgIC8vLyBUaGUgdHJpZ2dlciBhbmQgdGhlIGNvbnRlbnQgb2YgdGhlIGRyb3Bkb3duLlxuICAgIGRlZmF1bHQ6IFtcbiAgICAgIHtcbiAgICAgICAgQnV0dG9uOiBXaXRoQm91bmRBcmdzPFxuICAgICAgICAgIHR5cGVvZiBWZWx2ZXRCdXR0b24sXG4gICAgICAgICAgJ3ByaXZhdGVEcm9wZG93blRyaWdnZXInIHwgJ2lzRGlzY2xvc3VyZScgfCAndmFyaWFudCdcbiAgICAgICAgPjtcbiAgICAgICAgQ29udGVudDogV2l0aEJvdW5kQXJnczxcbiAgICAgICAgICB0eXBlb2YgVmVsdmV0RHJvcGRvd25Db250ZW50LFxuICAgICAgICAgICdpc1Nob3duJyB8ICdtb2RpZmllcidcbiAgICAgICAgPjtcbiAgICAgICAgSWNvbkJ1dHRvbjogV2l0aEJvdW5kQXJnczxcbiAgICAgICAgICB0eXBlb2YgVmVsdmV0SWNvbkJ1dHRvbixcbiAgICAgICAgICAncHJpdmF0ZURyb3Bkb3duVHJpZ2dlcicgfCAndmFyaWFudCdcbiAgICAgICAgPjtcbiAgICAgICAgaXNTaG93bjogYm9vbGVhbjtcbiAgICAgICAgaGlkZTogKCkgPT4gdm9pZDtcbiAgICAgICAgc2hvdzogKCkgPT4gdm9pZDtcbiAgICAgICAgdG9nZ2xlOiAoKSA9PiB2b2lkO1xuICAgICAgICBjb250ZW50OiBNb2RpZmllckxpa2U8Q29udGVudFNpZ25hdHVyZT47XG4gICAgICAgIHRyaWdnZXI6IE1vZGlmaWVyTGlrZTxUcmlnZ2VyU2lnbmF0dXJlPjtcbiAgICAgIH0sXG4gICAgXTtcbiAgfTtcbiAgRWxlbWVudDogSFRNTERpdkVsZW1lbnQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29udGVudFNpZ25hdHVyZSB7XG4gIEVsZW1lbnQ6IEhUTUxFbGVtZW50O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRyaWdnZXJTaWduYXR1cmUge1xuICBFbGVtZW50OiBIVE1MRWxlbWVudDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVsdmV0RHJvcGRvd24gZXh0ZW5kcyBDb21wb25lbnQ8VmVsdmV0RHJvcGRvd25TaWduYXR1cmU-IHtcbiAgQHRyYWNrZWQgaXNTaG93biA9IGZhbHNlO1xuXG4gIHRyaWdnZXJFbGVtZW50OiBIVE1MRWxlbWVudCB8IG51bGwgPSBudWxsO1xuXG4gIGdldCBvZmZzZXQoKTogbnVtYmVyIHtcbiAgICBjb25zdCB7IG9mZnNldCB9ID0gdGhpcy5hcmdzO1xuXG4gICAgcmV0dXJuIHR5cGVvZiBvZmZzZXQgPT09ICdudW1iZXInID8gb2Zmc2V0IDogNDtcbiAgfVxuXG4gIGdldCBwbGFjZW1lbnQoKTogUGxhY2VtZW50IHtcbiAgICByZXR1cm4gdGhpcy5hcmdzLnBsYWNlbWVudCB8fCAnYm90dG9tLXN0YXJ0JztcbiAgfVxuXG4gIGdldCBzdHJhdGVneSgpOiBTdHJhdGVneSB7XG4gICAgcmV0dXJuIHRoaXMuYXJncy5zdHJhdGVneSB8fCAnYWJzb2x1dGUnO1xuICB9XG5cbiAgY29udGVudCA9IG1vZGlmaWVyPENvbnRlbnRTaWduYXR1cmU-KChjb250ZW50RWxlbWVudCkgPT4ge1xuICAgIGNvbnN0IHsgcGxhY2VtZW50LCBzdHJhdGVneSwgdHJpZ2dlckVsZW1lbnQgfSA9IHRoaXM7XG5cbiAgICBhc3NlcnQoJ1tWZWx2ZXREcm9wZG93bl0gVHJpZ2dlciBlbGVtZW50IG11c3QgYmUgcHJlc2VudC4nLCB0cmlnZ2VyRWxlbWVudCk7XG5cbiAgICAvLyBodHRwczovL2Zsb2F0aW5nLXVpLmNvbS9kb2NzL2NvbXB1dGVwb3NpdGlvbiNpbml0aWFsLWxheW91dDpcbiAgICBPYmplY3QuYXNzaWduKGNvbnRlbnRFbGVtZW50LnN0eWxlLCB7XG4gICAgICBsZWZ0OiAwLFxuICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgdG9wOiAwLFxuICAgIH0pO1xuXG4gICAgY29uc3QgdXBkYXRlRmxvYXRpbmcgPSBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCB7IHgsIHkgfSA9IGF3YWl0IGNvbXB1dGVQb3NpdGlvbih0cmlnZ2VyRWxlbWVudCwgY29udGVudEVsZW1lbnQsIHtcbiAgICAgICAgbWlkZGxld2FyZTogW2ZsaXAoKSwgb2Zmc2V0KHRoaXMub2Zmc2V0KV0sXG4gICAgICAgIHBsYWNlbWVudCxcbiAgICAgICAgc3RyYXRlZ3ksXG4gICAgICB9KTtcblxuICAgICAgT2JqZWN0LmFzc2lnbihjb250ZW50RWxlbWVudC5zdHlsZSwgeyBsZWZ0OiBgJHt4fXB4YCwgdG9wOiBgJHt5fXB4YCB9KTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYW51cEZsb2F0aW5nID0gYXV0b1VwZGF0ZShcbiAgICAgIHRyaWdnZXJFbGVtZW50LFxuICAgICAgY29udGVudEVsZW1lbnQsXG4gICAgICB1cGRhdGVGbG9hdGluZyxcbiAgICApO1xuXG4gICAgY29uc3QgY2xpY2tPdXRzaWRlSGFuZGxlciA9ICh7IHRhcmdldCB9OiBNb3VzZUV2ZW50KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIHRhcmdldCAhPT0gY29udGVudEVsZW1lbnQgJiZcbiAgICAgICAgdGFyZ2V0ICE9PSB0cmlnZ2VyRWxlbWVudCAmJlxuICAgICAgICBjb250ZW50RWxlbWVudC5jb250YWlucyh0YXJnZXQgYXMgTm9kZSkgPT09IGZhbHNlICYmXG4gICAgICAgIHRyaWdnZXJFbGVtZW50LmNvbnRhaW5zKHRhcmdldCBhcyBOb2RlKSA9PT0gZmFsc2VcbiAgICAgICkge1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgY29uc3QgcHJlc3NFc2NhcGVIYW5kbGVyID0gKHsga2V5IH06IEtleWJvYXJkRXZlbnQpID0-IHtcbiAgICAgIGlmIChrZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgfVxuICAgIH07XG4gICAgLy8gdGhpcyBpcyBhIG1vdXNldXAgaW5zdGVhZCBvZiBhIGNsaWNrIGV2ZW50LCBiZWNhdXNlIGlmIG5vdCwgdGhpcyBpbW1lZGlhdGVseSBnZXRzIGZpcmVkIGluIHRoZSBzYW1lIGN5Y2xlIGFzIHRoZSBjbGljayB0byB0b2dnbGUgdGhlIGNvbnRlbnQgb3Blbi5cbiAgICAvLyB0aGlzIHRoZW4gbWVhbnMgdGhlIGNsaWNrT3V0c2lkZUhhbmRsZXIgZ2V0IGNhbGxlZCBhbmQgZmlyZXMgdGhlIGhpZGUoKSBtZXRob2QgYmVjYXVzZSBhZnRlciBhIHJlcmVuZGVyIHRoZXJlIGlzIG5vdyBhIGRpZmZlcmVudCBpY29uIHNob3duLCBhbmQgdGhhdCBpcyBubyBsb25nZXIgYSBjaGlsZCBvZiB0aGUgdHJpZ2dlckVsZW1lbnRcbiAgICAvLyBjaGFuZ2luZyB0aGlzIGV2ZW50IHRvIG1vdXNldXAgcHJldmVudHMgdGhpcyBkb3VibGUgdG9nZ2xlIGZyb20gaGFwcGVuaW5nIGFuZCBzdGlsbCB3b3JrcyB0byBoaWRlIHRoZSBjb250ZW50IHdoZW4gZG9pbmcgYSBzdWJzZXF1ZW50IGNsaWNrXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsaWNrT3V0c2lkZUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBwcmVzc0VzY2FwZUhhbmRsZXIpO1xuXG4gICAgcmV0dXJuICgpID0-IHtcbiAgICAgIGNsZWFudXBGbG9hdGluZygpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGNsaWNrT3V0c2lkZUhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHByZXNzRXNjYXBlSGFuZGxlcik7XG4gICAgfTtcbiAgfSk7XG5cbiAgdHJpZ2dlciA9IG1vZGlmaWVyPFRyaWdnZXJTaWduYXR1cmU-KCh0cmlnZ2VyRWxlbWVudCkgPT4ge1xuICAgIHRoaXMudHJpZ2dlckVsZW1lbnQgPSB0cmlnZ2VyRWxlbWVudDtcblxuICAgIHRyaWdnZXJFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGUpO1xuXG4gICAgcmV0dXJuICgpID0-IHRyaWdnZXJFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50b2dnbGUpO1xuICB9KTtcblxuICBoaWRlID0gKCkgPT4ge1xuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlO1xuICB9O1xuXG4gIHNob3cgPSAoKSA9PiB7XG4gICAgdGhpcy5pc1Nob3duID0gdHJ1ZTtcbiAgfTtcblxuICB0b2dnbGUgPSAoKSA9PiB7XG4gICAgaWYgKHRoaXMuaXNTaG93bikge1xuICAgICAgdGhpcy5oaWRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuc2hvdygpO1xuICAgIH1cbiAgfTtcblxuICA8dGVtcGxhdGU-XG4gICAgPGRpdiBjbGFzcz0ndmVsdmV0LWRyb3Bkb3duJyAuLi5hdHRyaWJ1dGVzPlxuICAgICAge3t5aWVsZFxuICAgICAgICAoaGFzaFxuICAgICAgICAgIEJ1dHRvbj0oY29tcG9uZW50XG4gICAgICAgICAgICBWZWx2ZXRCdXR0b25cbiAgICAgICAgICAgIGlzRGlzY2xvc3VyZT10cnVlXG4gICAgICAgICAgICBpc0V4cGFuZGVkPXRoaXMuaXNTaG93blxuICAgICAgICAgICAgcHJpdmF0ZURyb3Bkb3duVHJpZ2dlcj10aGlzLnRyaWdnZXJcbiAgICAgICAgICApXG4gICAgICAgICAgQ29udGVudD0oY29tcG9uZW50XG4gICAgICAgICAgICBWZWx2ZXREcm9wZG93bkNvbnRlbnQgaXNTaG93bj10aGlzLmlzU2hvd24gbW9kaWZpZXI9dGhpcy5jb250ZW50XG4gICAgICAgICAgKVxuICAgICAgICAgIEljb25CdXR0b249KGNvbXBvbmVudFxuICAgICAgICAgICAgVmVsdmV0SWNvbkJ1dHRvblxuICAgICAgICAgICAgcHJpdmF0ZURyb3Bkb3duVHJpZ2dlcj10aGlzLnRyaWdnZXJcbiAgICAgICAgICAgIGlzRGlzY2xvc3VyZT10cnVlXG4gICAgICAgICAgICBpc0V4cGFuZGVkPXRoaXMuaXNTaG93blxuICAgICAgICAgIClcbiAgICAgICAgICBpc1Nob3duPXRoaXMuaXNTaG93blxuICAgICAgICAgIGhpZGU9dGhpcy5oaWRlXG4gICAgICAgICAgc2hvdz10aGlzLnNob3dcbiAgICAgICAgICB0b2dnbGU9dGhpcy50b2dnbGVcbiAgICAgICAgICBjb250ZW50PXRoaXMuY29udGVudFxuICAgICAgICAgIHRyaWdnZXI9dGhpcy50cmlnZ2VyXG4gICAgICAgIClcbiAgICAgIH19XG4gICAgPC9kaXY-XG4gIDwvdGVtcGxhdGU-XG59XG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLFNBQVMsTUFBTSxRQUFRLGVBQWU7QUFDdEMsU0FBUyxJQUFJLFFBQVEsZ0JBQWdCO0FBQ3JDLFNBQ0UsVUFBVSxFQUNWLGVBQWUsRUFDZixJQUFJLEVBQ0osTUFBTSxFQUNOLEtBQUssU0FBUyxFQUNkLEtBQUssUUFBUSxRQUNSLG1CQUFtQjtBQUMxQixPQUFPLGVBQWUscUJBQXFCO0FBQzNDLFNBQVMsT0FBTyxRQUFRLG9CQUFvQjtBQUM1QyxjQUFjLFlBQVksRUFBRSxhQUFhLFFBQVEsa0JBQWtCO0FBQ25FLFNBQVMsUUFBUSxRQUFRLGlCQUFpQjtBQUMxQyxPQUFPLGtCQUFrQixzQkFBc0I7QUFDL0MsT0FBTywyQkFBMkIsZ0NBQWdDO0FBQ2xFLE9BQU8sc0JBQXNCLDJCQUEyQjtBQUV4RCxpQkFBaUI7SUFDZjtRQUNFLDREQUE0RDtRQUM1RCxnQkFBZ0I7UUFDaEIsU0FBUyxNQUFNO1FBRWYscURBQXFEO1FBQ3JELDZCQUE2QjtRQUM3QixZQUFZO1FBRVosZ0NBQWdDO1FBQ2hDLHlCQUF5QjtRQUN6QixXQUFXOztJQUViO1FBQ0UsZ0RBQWdEO1FBQ2hEO2dCQUVJLFFBQVEscUJBQ0MsY0FDUCwyQkFBMkIsaUJBQWlCO2dCQUU5QyxTQUFTLHFCQUNBLHVCQUNQLFlBQVk7Z0JBRWQsWUFBWSxxQkFDSCxrQkFDUCwyQkFBMkI7Z0JBRTdCLFNBQVMsT0FBTztnQkFDaEIsWUFBWSxJQUFJO2dCQUNoQixZQUFZLElBQUk7Z0JBQ2hCLGNBQWMsSUFBSTtnQkFDbEIsU0FBUyxhQUFhO2dCQUN0QixTQUFTLGFBQWE7OztJQUk1QixTQUFTOztBQUdYLGlCQUFpQjtJQUNmLFNBQVM7O0FBR1gsaUJBQWlCO0lBQ2YsU0FBUzs7QUFHWCxlQUFlLE1BQU0sdUJBQXVCLFVBQVU7SUFDcEQsQ0FBQztJQUFRLFVBQVUsTUFBTTtJQUV6QixnQkFBZ0IsY0FBYyxJQUFJLEdBQUcsS0FBSztJQUUxQyxJQUFJLFVBQVUsTUFBTSxDQUFDO1FBQ25CLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxJQUFJLENBQUMsSUFBSTtRQUU1QixPQUFPLE9BQU8sV0FBVyxXQUFXLFNBQVM7SUFDL0M7SUFFQSxJQUFJLGFBQWEsVUFBVTtRQUN6QixPQUFPLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJO0lBQ2hDO0lBRUEsSUFBSSxZQUFZLFNBQVM7UUFDdkIsT0FBTyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSTtJQUMvQjtJQUVBLFVBQVUsU0FBUyxrQkFBa0IsQ0FBQztRQUNwQyxNQUFNLEVBQUUsU0FBUyxFQUFFLFFBQVEsRUFBRSxjQUFjLEVBQUUsR0FBRyxJQUFJO1FBRXBELE9BQU8scURBQXFEO1FBRTVELCtEQUErRDtRQUMvRCxPQUFPLE1BQU0sQ0FBQyxlQUFlLEtBQUssRUFBRTtZQUNsQyxNQUFNO1lBQ04sVUFBVTtZQUNWLEtBQUs7UUFDUDtRQUVBLE1BQU0saUJBQWlCO1lBQ3JCLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEdBQUcsTUFBTSxnQkFBZ0IsZ0JBQWdCLGdCQUFnQjtnQkFDckUsWUFBWTtvQkFBQztvQkFBUSxPQUFPLElBQUksQ0FBQyxNQUFNO2lCQUFFO2dCQUN6QztnQkFDQTtZQUNGO1lBRUEsT0FBTyxNQUFNLENBQUMsZUFBZSxLQUFLLEVBQUU7Z0JBQUUsTUFBTSxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7Z0JBQUUsS0FBSyxDQUFDLEVBQUUsRUFBRSxFQUFFLENBQUM7WUFBQztRQUN0RTtRQUVBLE1BQU0sa0JBQWtCLFdBQ3RCLGdCQUNBLGdCQUNBO1FBR0YsTUFBTSxzQkFBc0IsQ0FBQyxFQUFFLE1BQU0sSUFBSSxVQUFVO1lBQ2pELElBQ0UsV0FBVyxrQkFDWCxXQUFXLGtCQUNYLGVBQWUsUUFBUSxDQUFDLFVBQVUsVUFBVSxTQUM1QyxlQUFlLFFBQVEsQ0FBQyxVQUFVLFVBQVUsT0FDNUM7Z0JBQ0EsSUFBSSxDQUFDLElBQUk7WUFDWDtRQUNGO1FBRUEsTUFBTSxxQkFBcUIsQ0FBQyxFQUFFLEdBQUcsSUFBSSxhQUFhO1lBQ2hELElBQUksUUFBUSxVQUFVO2dCQUNwQixJQUFJLENBQUMsSUFBSTtZQUNYO1FBQ0Y7UUFDQSxxSkFBcUo7UUFDckosbU1BQW1NO1FBQ25NLDhJQUE4STtRQUM5SSxTQUFTLGdCQUFnQixDQUFDLFdBQVc7UUFDckMsU0FBUyxnQkFBZ0IsQ0FBQyxXQUFXO1FBRXJDLE9BQU87WUFDTDtZQUNBLFNBQVMsbUJBQW1CLENBQUMsV0FBVztZQUN4QyxTQUFTLG1CQUFtQixDQUFDLFdBQVc7UUFDMUM7SUFDRixHQUFHO0lBRUgsVUFBVSxTQUFTLGtCQUFrQixDQUFDO1FBQ3BDLElBQUksQ0FBQyxjQUFjLEdBQUc7UUFFdEIsZUFBZSxnQkFBZ0IsQ0FBQyxTQUFTLElBQUksQ0FBQyxNQUFNO1FBRXBELE9BQU8sSUFBTSxlQUFlLG1CQUFtQixDQUFDLFNBQVMsSUFBSSxDQUFDLE1BQU07SUFDdEUsR0FBRztJQUVILE9BQU87UUFDTCxJQUFJLENBQUMsT0FBTyxHQUFHO0lBQ2pCLEVBQUU7SUFFRixPQUFPO1FBQ0wsSUFBSSxDQUFDLE9BQU8sR0FBRztJQUNqQixFQUFFO0lBRUYsU0FBUztRQUNQLElBQUksSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUNoQixJQUFJLENBQUMsSUFBSTtRQUNYLE9BQU87WUFDTCxJQUFJLENBQUMsSUFBSTtRQUNYO0lBQ0YsRUFBRTtJQUVGLE1BQUE7UUFBQSwwQ0FBVSxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0VBNEJWLENBQUEsRUFBQTtZQUFBLFdBQUEsSUFBVztZQUFYO2dCQUFBLE9BQUEsS0FBQSxTQUFBLENBQUEsRUFBVztZQUFEO1FBQUE7SUFBQSxDQTVCQTtBQTZCWiJ9"],"names":["VelvetDropdown","Component","g","this","prototype","tracked","i","void 0","triggerElement","offset","args","placement","strategy","content","modifier","contentElement","assert","Object","assign","style","left","position","top","updateFloating","x","y","computePosition","middleware","flip","cleanupFloating","autoUpdate","clickOutsideHandler","target","contains","hide","pressEscapeHandler","key","document","addEventListener","removeEventListener","trigger","toggle","isShown","show","setComponentTemplate","precompileTemplate","strictMode","scope","hash","VelvetButton","VelvetDropdownContent","VelvetIconButton"],"mappings":"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"}